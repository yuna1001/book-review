# ポートフォリオURL
<a href="https://book-review.ml" target="_blank">ブックレビュー</a>

# 概要
書籍専用のレビュー共有サイトです。
読んだ書籍の感想を残したり、他のユーザのレビューを元に新しい１冊を見つけましょう！

# 機能・使用技術一覧
- 技術一覧
  - 言語/フレームワーク
    - Python3.7.3
    - Django2.2.4
  - インフラ(AWS)
    - EC2(サービス稼働基盤)
    - Route53・EIP(独自ドメイン)
    - S3(ファイル保存)
    - CloudFront(静的ファイル配信)
    - SES(メール配信)
  - データベース
    - PostgreSQL10.10
  - 開発環境
    - Docker
    - Docker-Compose
      - Webアプリケーション(Django)・Webサーバ(Nginx)・Database(PostgreSQL) 
  - CI/CD
    - CircleCI
- 機能一覧
  - ソーシャルログイン(django-allauth)
  - 画像アップロード(django-storages)
  - 書籍検索(楽天API)
  - ページネーション
  - フォロー機能
  - お気に入り機能
  - 単体テスト(factory_boy)


# 使用技術について
### AWS
EC2上(Ubuntu18.04)でDjango・Gunicorn・Nginxで動いています。静的ファイルへのアクセスはNginx→CloudFrontで配信しています。
AWS上に環境を構築する際に並行してTCP/IPの書籍を学習することでネットワークの知識を深めることができました。
また、EC2上で各種サービスを動作させることで、Linuxに関する知識を手を動かすことで習得できました。

### データベース
Djangoでは基本的には、ORMマッパーを用いてデータベースを操作しているため直接SQLを記述している箇所はありません。
また、これまでデータベースの知識に不足を感じていたため「わかりみSQL」を学習し、実際にPostGreSQLでのデータベースを作成し、生のSQLを記述することで
データベースおよびSQLへの理解を深めました。

### テスト
これまでDjangodeテストを記述したことがなかったため、この機会にテストコードをしっかり書いてみました。
テスト環境/CI環境用に設定ファイルを分けたりと、色々ためになりました。

### Python
ポートフォリオ作成にあたりPythonの基礎的な文法およびPythonicなコードの書き方を学習しました。
しかしながら、現状使いこなせていないことも多いため今後も学習していきます。

### Docker
Docker/Docker-Composeを使用し開発を行いました。また、Dockerイメージを軽量化するためにLinterの使用したり
ビルド時の中間レイヤを減らすようDockerfileを記述しました。

### CircleCI
テストの自動化、EC2へのデプロイ作業の効率化のためCircleCIを使用し以下のワークフローを構築しました。
1. GitHubへPush
2. テスト実行
3. テストが通ればデプロイ
CircleCIを設定することで、CI/CDの基本的な流れを理解しました。

# 工夫点
特に工夫したところを紹介します。

### ユーザ登録機能
django-allauthのソースコードを読み、プロフィール画像の登録などユーザ登録機能をカスタムしました。
ソーシャルログイン時には、ソーシャルアカウントのユーザ名・プロフィール画像を自動で登録するようにしました。
### CI/CD
GitHub・CircleCIを連携させCI/CDを実現しました。
packageのキャッシュ等を利用しテスト実行時間を短縮しました。
### テスト
FactoryBoyを使用し、効率的にテストを記述しました。

反省点
- Django-RestFrameworkを使いたい
- フロントはJSフレームワークで記述したい
- Pythonicなコードを書きたい
- ECSへのデプロイ
